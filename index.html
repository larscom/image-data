<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <title>hello-wasm example</title>
  </head>
  <body>    
    <script type="module">
      import { load_from_arraybuffer } from './ts/index.js'      

      const data = await fetch('image.png')
      const buf = await data.arrayBuffer()

      const imageData = await load_from_arraybuffer(buf)
       const imageData2 = await load_from_arraybuffer(buf)

      const canvas = document.getElementById('canvas')
      canvas.width = 800
      canvas.height = 600

      const ctx = canvas.getContext('2d')

      ctx.putImageData(imageData, 0, 0)
    </script>
    <canvas id="canvas"></canvas>
  </body>
</html>
